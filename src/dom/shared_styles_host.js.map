{"version":3,"sources":["../../../../../modules/@angular/platform-browser/src/dom/shared_styles_host.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;AAEH,OAAO,EAAA,MAAE,EAAO,UAAA,EAAsB,MAAA,qBAAA,CAAA;AACtC,OAAO,EAAA,MAAE,EAAM,MAAA,eAAA,CAAA;AACf,OAAO,EAAA,QAAE,EAAQ,MAAA,cAAA,CAAA;AACjB,MAEC;IAFD;QACE,gBAAgB;QAGN,eAAA,GAAa,IAAI,GAAA,EAAW,CAAG;IA4B3C,CAAC;IA7BD;;;OAGG;IACH,SADG,CAAA,MAAA;QAEC,MAAM,gBAAgB,CADhB,SAAA,GAAY,IAAI,GAAA,EAAW,CAAG;QAEpC,MAAM,CADC,OAAC,CAAO,KAAC;YAEd,EAAE,CAAC,CAAC,CADC,IAAC,CAAI,UAAC,CAAU,GAAC,CAAG,KAAC,CAAK,CAAC,CAAC,CAAA;gBAE/B,IAAI,CADC,UAAC,CAAU,GAAC,CAAG,KAAC,CAAK,CAAC;gBAE3B,SAAS,CADC,GAAC,CAAG,KAAC,CAAK,CAAC;YAEvB,CAAC;QACH,CAAC,CADC,CAAC;QAEH,IAAI,CADC,aAAC,CAAa,SAAC,CAAS,CAAC;IAEhC,CAAC;IACH;;;OAGG;IACH,aAJG,CAAA,SAAA,IAA2C,CAAA;IAK9C;;OAEG;IACH,YANG,KAA0B,MAAA,CAAO,KAAA,CAAM,IAAC,CAAI,IAAC,CAAI,UAAC,CAAU,CAAC,CAAC,CAAA;;AAC1D,2BAAA,GAAoC;IAO3C,EANE,IAAA,EAAM,UAAA,EAAW;CAOlB,CANC;AAOF,kBAAkB;AALX,+BAAA,GAAiF,MAAM,EAO7F,CANC;AASF;IACA,gBAAgB;IAChB,gBAAgB,CAAC,UAAU,CAAC;IAC5B;;;OAGG;IACH,gBAAgB,CAAC,cAAc,CAAC;IAChC;;;OAGG;IACH,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC;AACtC,CAAC;AAED,MApBC,0BAAA,SAAA,gBAAA;IAuBD;;OAEG;IACH,YAvBuB,IAAM;QAyBzB,KAAK,EAAE,CAAC;QAzBW,SAAA,GAAA,IAAA,CAAM;QAFnB,eAAA,GAAa,IAAI,GAAA,EAAS,CAAG;QAC7B,gBAAA,GAAc,IAAI,GAAA,EAAS,CAAG;QA2BpC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IACH;;;;OATE;IAdC,gBAAA,CAAA,MAAA,EAAA,IAAA;QA6BC,MAAM,CA5BC,OAAC,CAAO,CAAC,KAAO;YA6BrB,MAAM,gBAAgB,CA5BhB,OAAA,GAAU,IAAA,CAAK,IAAC,CAAI,aAAC,CAAa,OAAC,CAAO,CAAC;YA6BjD,OAAO,CA5BC,WAAC,GAAa,KAAA,CAAM;YA6B5B,IAAI,CA5BC,WAAC,CAAW,GAAC,CAAG,IAAC,CAAI,WAAC,CAAW,OAAC,CAAO,CAAC,CAAC;QA6BlD,CAAC,CA5BC,CAAC;IA6BL,CAAC;IACH;;;OAGG;IACH,OA/BG,CAAA,QAAA;QAgCC,IAAI,CA/BC,gBAAC,CAAgB,IAAC,CAAI,UAAC,EAAW,QAAA,CAAS,CAAC;QAgCjD,IAAI,CA/BC,UAAC,CAAU,GAAC,CAAG,QAAC,CAAQ,CAAC;IAgChC,CAAC;IACH;;;OAGG;IACH,UAlCG,CAAA,QAAA,IAAkC,IAAA,CAAK,UAAC,CAAU,MAAC,CAAM,QAAC,CAAQ,CAAC,CAAC,CAAA;IAmCvE;;;OAGG;IACH,aArCG,CAAA,SAAA;QAsCC,IAAI,CArCC,UAAC,CAAU,OAAC,CAAO,QAAC,IAAW,IAAA,CAAK,gBAAC,CAAgB,SAAC,EAAU,QAAA,CAAS,CAAC,CAAC;IAsClF,CAAC;IACH;;OAEG;IACH,WAvCG,KAAqB,IAAA,CAAK,WAAC,CAAW,OAAC,CAAO,SAAC,IAAY,MAAA,EAAO,CAAE,MAAC,CAAM,SAAC,CAAS,CAAC,CAAC,CAAC,CAAA;;AACpF,8BAAA,GAAoC;IAwC3C,EAvCE,IAAA,EAAM,UAAA,EAAW;CAwClB,CAvCC;AAwCF,kBAAkB;AAtCX,kCAAA,GAAiF,MAAM;IAwC9F,EAAC,IAvCC,EAAK,SAAA,EAAW,UAAA,EAAY,CAAA,EAAG,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,CAAA,QAAE,EAAQ,EAAG,EAAE,EAAG;CAwCtE,CAvCC;AA0CF;IACA,gBAAgB;IAChB,mBAAmB,CAAC,UAAU,CAAC;IAC/B;;;OAGG;IACH,mBAAmB,CAAC,cAAc,CAAC;IACnC,gBAAgB;IAChB,mBAAmB,CAAC,SAAS,CAAC,UAAU,CAAC;IACzC,gBAAgB;IAChB,mBAAmB,CAAC,SAAS,CAAC,WAAW,CAAC;IAC1C,gBAAgB;IAChB,mBAAmB,CAAC,SAAS,CAAC,IAAI,CAAC;AACnC,CAAC","file":"shared_styles_host.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, OnDestroy} from '@angular/core/index';\nimport {getDOM} from './dom_adapter';\nimport {DOCUMENT} from './dom_tokens';\nexport class SharedStylesHost {\n  /** @internal */\n  protected _stylesSet = new Set<string>();\n/**\n * @param {?} styles\n * @return {?}\n */\naddStyles(styles: string[]): void {\n    const /** @type {?} */ additions = new Set<string>();\n    styles.forEach(style => {\n      if (!this._stylesSet.has(style)) {\n        this._stylesSet.add(style);\n        additions.add(style);\n      }\n    });\n    this.onStylesAdded(additions);\n  }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {}\n/**\n * @return {?}\n */\ngetAllStyles(): string[] { return Array.from(this._stylesSet); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction SharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSharedStylesHost.ctorParameters;\n/**\n * \\@internal\n * @type {?}\n */\nSharedStylesHost.prototype._stylesSet;\n}\n\nexport class DomSharedStylesHost extends SharedStylesHost implements OnDestroy {\nprivate _hostNodes = new Set<Node>();\nprivate _styleNodes = new Set<Node>();\n/**\n * @param {?} _doc\n */\nconstructor(\nprivate _doc: any) {\n    super();\n    this._hostNodes.add(_doc.head);\n  }\n/**\n * @param {?} styles\n * @param {?} host\n * @return {?}\n */\nprivate _addStylesToHost(styles: Set<string>, host: Node): void {\n    styles.forEach((style: string) => {\n      const /** @type {?} */ styleEl = this._doc.createElement('style');\n      styleEl.textContent = style;\n      this._styleNodes.add(host.appendChild(styleEl));\n    });\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\naddHost(hostNode: Node): void {\n    this._addStylesToHost(this._stylesSet, hostNode);\n    this._hostNodes.add(hostNode);\n  }\n/**\n * @param {?} hostNode\n * @return {?}\n */\nremoveHost(hostNode: Node): void { this._hostNodes.delete(hostNode); }\n/**\n * @param {?} additions\n * @return {?}\n */\nonStylesAdded(additions: Set<string>): void {\n    this._hostNodes.forEach(hostNode => this._addStylesToHost(additions, hostNode));\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void { this._styleNodes.forEach(styleNode => getDOM().remove(styleNode)); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [DOCUMENT, ] }, ]},\n];\n}\n\nfunction DomSharedStylesHost_tsickle_Closure_declarations() {\n/** @type {?} */\nDomSharedStylesHost.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDomSharedStylesHost.ctorParameters;\n/** @type {?} */\nDomSharedStylesHost.prototype._hostNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._styleNodes;\n/** @type {?} */\nDomSharedStylesHost.prototype._doc;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}