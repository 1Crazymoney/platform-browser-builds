{"version":3,"file":"ng_probe.js","sourceRoot":"","sources":["../../../../../../modules/@angular/platform-browser/src/dom/debug/ng_probe.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;;AAEH,qBAA2G,eAAe,CAAC,CAAA;AAE3H,6BAAmC,uBAAuB,CAAC,CAAA;AAC3D,2BAA+B,yBAAyB,CAAC,CAAA;AACzD,4BAAqB,gBAAgB,CAAC,CAAA;AACtC,6BAA8B,iBAAiB,CAAC,CAAA;AAGhD,IAAM,WAAW,GAAG;IAClB,gBAAgB,EAAE,qBAAc;IAChC,QAAQ,EAAE,aAAM;CACjB,CAAC;AAEF,IAAM,mBAAmB,GAAG,UAAU,CAAC;AACvC,IAAM,uBAAuB,GAAG,eAAe,CAAC;AAEhD;;;;GAIG;AACH,8BAAqC,OAAY,CAAC,iBAAiB;IACjE,MAAM,CAAC,mBAAY,CAAC,OAAO,CAAC,CAAC;AAC/B,CAAC;AAFe,4BAAoB,uBAEnC,CAAA;AAED;;GAEG;AACH;IACE,sBAAoB,IAAY,EAAU,KAAU;QAAhC,SAAI,GAAJ,IAAI,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAK;IAAG,CAAC;IAC1D,mBAAC;AAAD,CAAC,AAFD,IAEC;AAFY,oBAAY,eAExB,CAAA;AAED,wCACI,YAAiB,CAAC,iBAAiB,EAAE,WAA2B;IAClE,EAAE,CAAC,CAAC,gBAAS,EAAE,CAAC,CAAC,CAAC;QAChB,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;IACxD,CAAC;IACD,MAAM,CAAC,YAAY,CAAC;AACtB,CAAC;AANe,sCAA8B,iCAM7C,CAAA;AAED,6BAA6B,YAAiB,CAAC,iBAAiB,EAAE,WAA2B;IAC3F,oBAAM,EAAE,CAAC,YAAY,CAAC,mBAAmB,EAAE,oBAAoB,CAAC,CAAC;IACjE,oBAAM,EAAE,CAAC,YAAY,CACjB,uBAAuB,EACvB,6BAAgB,CAAC,KAAK,CAAC,WAAW,EAAE,mBAAmB,CAAC,WAAW,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACjF,MAAM,CAAC,IAAI,mCAAoB,CAAC,YAAY,CAAC,CAAC;AAChD,CAAC;AAED,6BAA6B,MAAsB;IACjD,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,UAAC,IAAS,EAAE,CAAM,IAAK,OAAA,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,EAA9B,CAA8B,EAAE,EAAE,CAAC,CAAC;AAClF,CAAC;AAED;;GAEG;AACU,+BAAuB,GAAe,CAAC;QAClD,OAAO,EAAE,mBAAY;QACrB,UAAU,EAAE,8BAA8B;QAC1C,IAAI,EAAE,CAAC,8BAAe,EAAE,CAAC,YAAY,EAAE,IAAI,eAAQ,EAAE,CAAC,CAAC;KACxD,CAAC,CAAC;AAEU,yCAAiC,GAAU,CAAC;QACvD,OAAO,EAAE,mBAAY;QACrB,UAAU,EAAE,mBAAmB;QAC/B,IAAI,EAAE,CAAC,8BAAe,EAAE,CAAC,YAAY,EAAE,IAAI,eAAQ,EAAE,CAAC,CAAC;KACxD,CAAC,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ApplicationRef, DebugNode, NgZone, Optional, Provider, RootRenderer, getDebugNode, isDevMode} from '@angular/core';\n\nimport {DebugDomRootRenderer} from '../../../core_private';\nimport {StringMapWrapper} from '../../facade/collection';\nimport {getDOM} from '../dom_adapter';\nimport {DomRootRenderer} from '../dom_renderer';\n\n\nconst CORE_TOKENS = {\n  'ApplicationRef': ApplicationRef,\n  'NgZone': NgZone\n};\n\nconst INSPECT_GLOBAL_NAME = 'ng.probe';\nconst CORE_TOKENS_GLOBAL_NAME = 'ng.coreTokens';\n\n/**\n * Returns a {@link DebugElement} for the given native DOM element, or\n * null if the given native element does not have an Angular view associated\n * with it.\n */\nexport function inspectNativeElement(element: any /** TODO #9100 */): DebugNode {\n  return getDebugNode(element);\n}\n\n/**\n * @experimental\n */\nexport class NgProbeToken {\n  constructor(private name: string, private token: any) {}\n}\n\nexport function _createConditionalRootRenderer(\n    rootRenderer: any /** TODO #9100 */, extraTokens: NgProbeToken[]) {\n  if (isDevMode()) {\n    return _createRootRenderer(rootRenderer, extraTokens);\n  }\n  return rootRenderer;\n}\n\nfunction _createRootRenderer(rootRenderer: any /** TODO #9100 */, extraTokens: NgProbeToken[]) {\n  getDOM().setGlobalVar(INSPECT_GLOBAL_NAME, inspectNativeElement);\n  getDOM().setGlobalVar(\n      CORE_TOKENS_GLOBAL_NAME,\n      StringMapWrapper.merge(CORE_TOKENS, _ngProbeTokensToMap(extraTokens || [])));\n  return new DebugDomRootRenderer(rootRenderer);\n}\n\nfunction _ngProbeTokensToMap(tokens: NgProbeToken[]): {[name: string]: any} {\n  return tokens.reduce((prev: any, t: any) => (prev[t.name] = t.token, prev), {});\n}\n\n/**\n * Providers which support debugging Angular applications (e.g. via `ng.probe`).\n */\nexport const ELEMENT_PROBE_PROVIDERS: Provider[] = [{\n  provide: RootRenderer,\n  useFactory: _createConditionalRootRenderer,\n  deps: [DomRootRenderer, [NgProbeToken, new Optional()]]\n}];\n\nexport const ELEMENT_PROBE_PROVIDERS_PROD_MODE: any[] = [{\n  provide: RootRenderer,\n  useFactory: _createRootRenderer,\n  deps: [DomRootRenderer, [NgProbeToken, new Optional()]]\n}];\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}